!function(e,t){void 0!==e.IntersectionObserver&&t.querySelectorAll("#toc").forEach((function(o){const s=new Set,n=new Map,r=Array.from(o.querySelectorAll(".menu-list > li > a"));for(const e of r){const o=e.getAttribute("href").trim().slice(1),s=t.getElementById(o);s&&n.set(s,e)}const l=Array.from(n.keys()),i=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting?s.add(e.target):s.delete(e.target);let o;if(s.size?o=[...s].sort(((e,t)=>e.offsetTop-t.offsetTop))[0]:l.length&&(o=l.filter((t=>t.offsetTop<e.scrollY)).sort(((e,t)=>t.offsetTop-e.offsetTop))[0]),o&&n.has(o)){r.forEach((e=>e.classList.remove("is-active")));const e=n.get(o);e.classList.add("is-active");let t=e.parentElement.parentElement;for(;t.classList.contains("menu-list")&&"li"===t.parentElement.tagName.toLowerCase();)t.parentElement.children[0].classList.add("is-active"),t=t.parentElement.parentElement}}),{threshold:0});for(const e of l)if(i.observe(e),n.has(e)){const t=n.get(e);t.addEventListener("click",(o=>{o.preventDefault(),"function"==typeof e.scrollIntoView&&e.scrollIntoView({behavior:"smooth"});const s=t.getAttribute("href");history.pushState?history.pushState(null,null,s):location.hash=s})),e.style.scrollMargin="1em"}}))}(window,document);